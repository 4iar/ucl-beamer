%\mode<presentation>
\RequirePackage{etoolbox}

% All UCL colors are defined in terms of cmyk
\selectcolormodel{cmyk}

% Define UCL colours (in addition to black and white)
%% dark colours: use white text
\definecolor{darkpurple}{cmyk}{0.32,0.42,0,0.55}
\definecolor{darkred}{cmyk}{0,1,0.30,0.61}
\definecolor{darkblue}{cmyk}{1,0.24,0,0.64}
\definecolor{darkgreen}{cmyk}{0,0,0.91,0.79}
\definecolor{darkbrown}{cmyk}{0.57,0.80,1,0.45}
\definecolor{richred}{cmyk}{0,1,0.62,0}
\definecolor{midred}{cmyk}{0,0.79,1,0}
\definecolor{navyblue}{cmyk}{1,0.57,0,0.40}
\definecolor{midgreen}{cmyk}{0.25,0,0.80,0.30}
\definecolor{darkgrey}{cmyk}{0,0.09,0.16,0.43}
\definecolor{pink}{cmyk}{0,1,0.35,0.27} % no banner image
\definecolor{orange}{cmyk}{0,0.45,0.91,0} 
\definecolor{brightblue}{cmyk}{0.92,0,0.15,0.05}
\definecolor{brightgreen}{cmyk}{0.12,0,0.79,0.06}
\definecolor{lightgrey}{cmyk}{0,0.04,0.09,0.24}
%% light colours: use black text
\definecolor{lightpurple}{cmyk}{0.17,0.25,0.15,0}
\definecolor{yellow}{cmyk}{0,0.25,0.95,0}
\definecolor{lightblue}{cmyk}{0.27,0.03,0,0.13}
\definecolor{lightgreen}{cmyk}{0.14,0,0.36,0.10}
\definecolor{stone}{cmyk}{0,0.02,0.06,0.07}

% Determines the UCL colour name of the template in the 1st argument, and
% stores it in the 2nd argument.
% This is used to determine which banner image should be included
\newcommand\uclcolorname[2]{%
  \extractcolorspec{#1}{\ucl@colorspec@current}%
  \forcsvlist{\ucl@colorcheck{#2}}{black,white,darkpurple,darkred,darkblue,%
    darkgreen,darkbrown,richred,midred,navyblue,midgreen,darkgrey,pink,%
    orange,brightblue,brightgreen,lightgrey,lightpurple,yellow,lightblue,%
    lightgreen,stone}%
}
% a utility function called by \uclcolorname
\newcommand\ucl@colorcheck[2]{%
  \extractcolorspec{#2}{\ucl@colorspec@check}%
  \ifdefequal{\ucl@colorspec@check}{\ucl@colorspec@current}{\gdef#1{#2}}{}%
}

% this is the main variable to customise
\setbeamercolor{banner}{bg=black,fg=white}

% title on title page
\setbeamercolor{title}{parent=banner}
% used for structural elements
\setbeamercolor{structure}{use=banner,fg=banner.bg}

\setbeamercolor{frametitle}{fg=black}

% used for \alert
\setbeamercolor{alerted text}{fg=richred}
% used in the example environment
\setbeamercolor{example text}{fg=darkgreen}

\setbeamercolor{block title}{parent=banner}
%%% can use the following for a striped
% \setbeamercolor{block title}{parent=banner stripe}
\setbeamercolor{block body}{use=block title,bg=block title.bg!30, fg=black}

\setbeamercolor{block title alerted}{use=alerted text,%
  bg=alerted text.fg,fg=white}
\setbeamercolor{block body alerted}{use=block title alerted,%
  bg=block title alerted.bg!30,fg=black}

\setbeamercolor{block title example}{use=example text,%
  bg=example text.fg,fg=white}
\setbeamercolor{block body example}{use=block title example,%
  bg=block title example.bg!30,fg=black}

% used for section and miniframes headline templates
\setbeamercolor*{section in head/foot}{use=banner,%
  fg=banner.fg!70!banner.bg,bg=banner.fg!20!banner.bg}
\setbeamercolor*{subsection in head/foot}{use=banner,%
  fg=banner.fg!50!banner.bg,bg=banner.fg!20!banner.bg}

% used for footline template
\setbeamercolor*{footline}{parent={banner,banner stripe}}
\setbeamercolor*{author in head/foot}{parent=footline}
\setbeamercolor*{title in head/foot}{parent=footline}
\setbeamercolor*{date in head/foot}{parent=footline}

%\mode<all>